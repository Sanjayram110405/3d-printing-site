<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ender 3 V3 KE - 3D Printing Service</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>Ender 3 V3 KE 3D Printer</h1>
    </header>

    <!-- Printer Image Section -->
    <section id="printer-image">
        <h2>Ender 3 V3 KE 3D Printer</h2>
        <img src="ender3-v3ke.jpg" alt="Ender 3 V3 KE Printer" id="printer-image">
    </section>

    <section id="specifications">
        <h2>Specifications</h2>
        <ul>
            <li><strong>Printing Technology:</strong> FDM</li>
            <li><strong>Build Volume:</strong> 220*220*240mm</li>
            <li><strong>Typical Printing Speed:</strong> 300mm/s</li>
            <li><strong>Max. Printing Speed:</strong> 500mm/s</li>
            <li><strong>Layer Height:</strong> 0.1-0.35mm</li>
            <li><strong>Filament Diameter:</strong> 1.75mm</li>
            <li><strong>Nozzle Temperature:</strong> ≤300℃</li>
            <li><strong>Heatbed Temperature:</strong> ≤100℃</li>
            <li><strong>Nozzle Diameter:</strong> 0.4mm</li> <!-- Added nozzle diameter -->
            <li><strong>File Transfer:</strong> USB drive, LAN, Creality Cloud APP</li>
        </ul>
    </section>

    <section id="upload-model">
        <h2>Upload Your Model</h2>
        <p>Upload your 3D model file (STL, OBJ, 3MF, AMF) to calculate dimensions, material usage, and cost.</p>
        <input type="file" id="fileUpload" accept=".stl,.obj,.3mf,.amf">
        <label for="material">Select Material:</label>
        <select id="material">
            <option value="PLA">PLA</option>
            <option value="PETG">PETG</option>
            <option value="ABS">ABS</option>
            <option value="TPU">TPU(95A)</option>
            <option value="ASA">ASA</option>
        </select>
        
        <!-- Updated color selection -->
        <label for="color">Select Color:</label>
        <select id="color">
            <option value="Red">Red</option>
            <option value="Blue">Blue</option>
            <option value="Black">Black</option>
            <option value="Yellow">Yellow</option>
            <option value="Green">Green</option>
        </select>

        <!-- Updated infill options -->
        <label for="infill">Select Infill Percentage:</label>
        <select id="infill">
            <option value="10">10%</option>
            <option value="20">20%</option>
            <option value="30">30%</option>
            <option value="40">40%</option>
            <option value="50">50%</option>
            <option value="60">60%</option>
            <option value="70">70%</option>
            <option value="80">80%</option>
            <option value="90">90%</option>
            <option value="100">100%</option>
        </select>

        <button onclick="calculatePrice()">Calculate Price</button>
        <p id="priceOutput"></p>
        <p id="weightOutput"></p> <!-- To show weight in grams -->
    </section>

    <script>
        function calculatePrice() {
            const materialPrices = {
                PLA: 4.2, // Price per gram in INR
                PETG: 5.0,
                ABS: 5.8,
                TPU: 6.5,
                ASA: 7.2
            };

            const material = document.getElementById("material").value;
            const infillPercentage = document.getElementById("infill").value / 100;
            const color = document.getElementById("color").value;

            // Dummy model volume (cm³), should be replaced with actual calculations based on the CAD file
            let modelVolume = 50; // cm³
            let density = 1.24; // g/cm³ (for PLA, adjust based on material)
            let weight = modelVolume * density * infillPercentage;

            let cost = weight * materialPrices[material];

            // Show the calculated cost and weight
            document.getElementById("priceOutput").innerText = `Estimated Cost: ₹${cost.toFixed(2)} (Weight: ${weight.toFixed(2)}g)`;
            document.getElementById("weightOutput").innerText = `Total Weight: ${weight.toFixed(2)} grams`; // Display weight
        }
    </script>
</body>
</html>
